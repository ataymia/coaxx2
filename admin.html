<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Coaxx Admin Dashboard</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    .admin-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 2rem 1rem;
    }
    .admin-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      flex-wrap: wrap;
      gap: 1rem;
    }
    .admin-actions {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
    }
    .admin-filters {
      background: white;
      padding: 1.5rem;
      border-radius: 0.5rem;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      margin-bottom: 2rem;
    }
    .filter-group {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 1rem;
    }
    .filter-group label {
      display: block;
      font-size: 0.875rem;
      font-weight: 600;
      color: #374151;
      margin-bottom: 0.25rem;
    }
    .filter-group input,
    .filter-group select {
      width: 100%;
      padding: 0.5rem;
      border: 1px solid #d1d5db;
      border-radius: 0.25rem;
      font-size: 0.875rem;
    }
    .product-table {
      background: white;
      border-radius: 0.5rem;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }
    .table-container {
      overflow-x: auto;
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    thead {
      background: #f9fafb;
      border-bottom: 1px solid #e5e7eb;
    }
    th {
      text-align: left;
      padding: 0.75rem 1rem;
      font-weight: 600;
      color: #374151;
      font-size: 0.875rem;
    }
    td {
      padding: 0.75rem 1rem;
      border-bottom: 1px solid #e5e7eb;
      font-size: 0.875rem;
    }
    tbody tr:hover {
      background: #f9fafb;
    }
    .table-actions {
      display: flex;
      gap: 0.5rem;
    }
    .btn-sm {
      padding: 0.375rem 0.75rem;
      font-size: 0.875rem;
      border-radius: 0.25rem;
      font-weight: 600;
      cursor: pointer;
      border: none;
      transition: all 0.2s;
    }
    .btn-edit {
      background: #3b82f6;
      color: white;
    }
    .btn-edit:hover {
      background: #2563eb;
    }
    .btn-delete {
      background: #ef4444;
      color: white;
    }
    .btn-delete:hover {
      background: #dc2626;
    }
    .btn-success {
      background: #10b981;
      color: white;
    }
    .btn-success:hover {
      background: #059669;
    }
    .modal {
      display: none;
      position: fixed;
      inset: 0;
      z-index: 100;
      background: rgba(0, 0, 0, 0.5);
      overflow-y: auto;
      padding: 2rem 1rem;
    }
    .modal.show {
      display: flex;
      align-items: start;
      justify-content: center;
    }
    .modal-content {
      background: white;
      border-radius: 0.5rem;
      max-width: 800px;
      width: 100%;
      margin: 2rem auto;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    }
    .modal-header {
      padding: 1.5rem;
      border-bottom: 1px solid #e5e7eb;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .modal-header h2 {
      font-size: 1.5rem;
      font-weight: 700;
      color: #111827;
    }
    .modal-body {
      padding: 1.5rem;
      max-height: 70vh;
      overflow-y: auto;
    }
    .modal-footer {
      padding: 1.5rem;
      border-top: 1px solid #e5e7eb;
      display: flex;
      justify-content: flex-end;
      gap: 0.5rem;
    }
    .form-group {
      margin-bottom: 1.5rem;
    }
    .form-group label {
      display: block;
      font-size: 0.875rem;
      font-weight: 600;
      color: #374151;
      margin-bottom: 0.5rem;
    }
    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 0.5rem;
      border: 1px solid #d1d5db;
      border-radius: 0.25rem;
      font-size: 0.875rem;
    }
    .form-group textarea {
      min-height: 80px;
      resize: vertical;
    }
    .form-group input[type="checkbox"] {
      width: auto;
      margin-right: 0.5rem;
    }
    .form-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
    }
    .draft-indicator {
      background: #fef3c7;
      color: #92400e;
      padding: 0.5rem 1rem;
      border-radius: 0.25rem;
      font-size: 0.875rem;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }
    .login-screen {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(to bottom right, #111827, #374151);
    }
    .login-card {
      background: white;
      padding: 2rem;
      border-radius: 0.5rem;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
      max-width: 400px;
      width: 100%;
      margin: 1rem;
    }
    .login-logo {
      font-size: 2rem;
      font-weight: bold;
      text-align: center;
      margin-bottom: 2rem;
    }
  </style>
</head>
<body>
  <!-- Login Screen -->
  <div id="login-screen" class="login-screen">
    <div class="login-card">
      <div class="login-logo">
        <span class="logo-co">Co</span><span class="logo-ax">ax</span><span class="logo-x">x</span>
      </div>
      <h2 style="font-size: 1.5rem; font-weight: 700; color: #111827; margin-bottom: 1rem; text-align: center;">Admin Dashboard</h2>
      <p style="text-align: center; color: #6b7280; margin-bottom: 2rem;">Enter your password to access the admin dashboard</p>
      <form id="login-form">
        <div class="form-group">
          <label for="admin-password">Password</label>
          <input type="password" id="admin-password" placeholder="Enter admin password" required />
        </div>
        <button type="submit" class="btn btn-primary" style="width: 100%;">Log In</button>
      </form>
      <p id="login-error" style="color: #dc2626; font-size: 0.875rem; margin-top: 1rem; text-align: center; display: none;"></p>
    </div>
  </div>

  <!-- Admin Dashboard -->
  <div id="admin-dashboard" style="display: none;">
    <div class="admin-container">
      <!-- Header -->
      <div class="admin-header">
        <div>
          <h1 style="font-size: 2rem; font-weight: 700; color: #111827; margin-bottom: 0.5rem;">
            <span class="logo-co">Co</span><span class="logo-ax">ax</span><span class="logo-x">x</span> Admin
          </h1>
          <p style="color: #6b7280; font-size: 0.875rem;">Manage your product catalog</p>
          <div id="draft-indicator" style="display: none; margin-top: 0.5rem;">
            <span class="draft-indicator">
              <svg width="16" height="16" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
              </svg>
              Using Draft Version
            </span>
          </div>
        </div>
        <div class="admin-actions">
          <button id="btn-add-product" class="btn btn-primary btn-sm">+ Add Product</button>
          <button id="btn-save-draft" class="btn btn-sm" style="background: #f59e0b; color: white;">Save Draft</button>
          <button id="btn-download-json" class="btn btn-success btn-sm">Download JSON</button>
          <button id="btn-reset" class="btn btn-outline btn-sm">Reset to Server</button>
          <button id="btn-logout" class="btn btn-outline btn-sm">Logout</button>
        </div>
      </div>

      <!-- Filters -->
      <div class="admin-filters">
        <div class="filter-group">
          <div>
            <label for="filter-category">Category</label>
            <select id="filter-category">
              <option value="">All Categories</option>
              <option value="toys">Toys</option>
              <option value="lingerie">Lingerie</option>
              <option value="oils-scents">Oils & Scents</option>
              <option value="candles">Candles</option>
              <option value="games-accessories">Games & Accessories</option>
              <option value="bundles-kits">Bundles & Kits</option>
            </select>
          </div>
          <div>
            <label for="filter-collection">Collection</label>
            <select id="filter-collection">
              <option value="">All Collections</option>
              <option value="Barely Proper">Barely Proper</option>
              <option value="Pretty Ruthless">Pretty Ruthless</option>
              <option value="Femme Obscura">Femme Obscura</option>
              <option value="Noir Siren">Noir Siren</option>
            </select>
          </div>
          <div>
            <label for="filter-search">Search</label>
            <input type="text" id="filter-search" placeholder="Search by name or tags..." />
          </div>
        </div>
      </div>

      <!-- Product Table -->
      <div class="product-table">
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>Name</th>
                <th>Category</th>
                <th>Collections</th>
                <th>Price</th>
                <th>Experience</th>
                <th>In Stock</th>
                <th>Subscription</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="products-table-body">
              <!-- Products will be rendered here -->
            </tbody>
          </table>
        </div>
      </div>

      <div id="product-count" style="margin-top: 1rem; text-align: center; color: #6b7280; font-size: 0.875rem;">
        <!-- Product count will be displayed here -->
      </div>
    </div>
  </div>

  <!-- Product Form Modal -->
  <div id="product-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="modal-title">Add Product</h2>
        <button onclick="closeProductModal()" style="background: none; border: none; cursor: pointer; color: #6b7280; padding: 0.5rem;">
          <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <form id="product-form">
          <div class="form-row">
            <div class="form-group">
              <label for="product-name">Name *</label>
              <input type="text" id="product-name" required />
            </div>
            <div class="form-group">
              <label for="product-slug">Slug</label>
              <input type="text" id="product-slug" placeholder="Auto-generated if empty" />
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="product-category">Category *</label>
              <select id="product-category" required>
                <option value="">Select category</option>
                <option value="toys">Toys</option>
                <option value="lingerie">Lingerie</option>
                <option value="oils-scents">Oils & Scents</option>
                <option value="candles">Candles</option>
                <option value="games-accessories">Games & Accessories</option>
                <option value="bundles-kits">Bundles & Kits</option>
              </select>
            </div>
            <div class="form-group">
              <label for="product-collections">Collections (comma-separated)</label>
              <input type="text" id="product-collections" placeholder="Barely Proper, Noir Siren" />
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="product-price">Price *</label>
              <input type="number" id="product-price" step="0.01" min="0" required />
            </div>
            <div class="form-group">
              <label for="product-original-price">Original Price (for sale)</label>
              <input type="number" id="product-original-price" step="0.01" min="0" />
            </div>
            <div class="form-group">
              <label for="product-currency">Currency</label>
              <input type="text" id="product-currency" value="USD" />
            </div>
          </div>

          <div class="form-group">
            <label for="product-short-desc">Short Description</label>
            <textarea id="product-short-desc"></textarea>
          </div>

          <div class="form-group">
            <label for="product-desc">Description</label>
            <textarea id="product-desc" style="min-height: 120px;"></textarea>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="product-experience">Experience Level</label>
              <select id="product-experience">
                <option value="Beginner">Beginner</option>
                <option value="Intermediate">Intermediate</option>
                <option value="Advanced">Advanced</option>
              </select>
            </div>
            <div class="form-group">
              <label for="product-intensity">Intensity Level (1-5)</label>
              <input type="number" id="product-intensity" min="0" max="5" value="1" />
            </div>
          </div>

          <div class="form-group">
            <label for="product-materials">Materials (comma-separated)</label>
            <input type="text" id="product-materials" placeholder="Body-safe silicone, ABS plastic" />
          </div>

          <div class="form-group">
            <label for="product-features">Features (comma-separated)</label>
            <input type="text" id="product-features" placeholder="Rechargeable, Water-resistant, Quiet" />
          </div>

          <div class="form-group">
            <label for="product-colors">Colors (comma-separated)</label>
            <input type="text" id="product-colors" placeholder="Black, Wine Red" />
          </div>

          <div class="form-group">
            <label for="product-sizes">Sizes Available (comma-separated)</label>
            <input type="text" id="product-sizes" placeholder="S, M, L, XL" />
          </div>

          <div class="form-group">
            <label for="product-images">Images (comma-separated URLs)</label>
            <textarea id="product-images" placeholder="https://example.com/image1.jpg, https://example.com/image2.jpg"></textarea>
          </div>

          <div class="form-group">
            <label for="product-tags">Tags (comma-separated)</label>
            <input type="text" id="product-tags" placeholder="wand, body-safe, quiet" />
          </div>

          <div class="form-group">
            <label for="product-payment-link">Payment Link</label>
            <input type="url" id="product-payment-link" placeholder="https://buy.stripe.com/..." />
          </div>

          <div class="form-group">
            <label for="product-care-notes">Care Notes</label>
            <textarea id="product-care-notes" placeholder="Clean with mild soap and water..."></textarea>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>
                <input type="checkbox" id="product-featured" />
                Featured
              </label>
            </div>
            <div class="form-group">
              <label>
                <input type="checkbox" id="product-new" />
                New
              </label>
            </div>
            <div class="form-group">
              <label>
                <input type="checkbox" id="product-in-stock" checked />
                In Stock
              </label>
            </div>
            <div class="form-group">
              <label>
                <input type="checkbox" id="product-subscription" />
                Subscription
              </label>
            </div>
          </div>

          <div id="subscription-fields" style="display: none;">
            <div class="form-group">
              <label for="product-billing-interval">Billing Interval</label>
              <input type="text" id="product-billing-interval" placeholder="monthly, quarterly" />
            </div>
            <div class="form-group">
              <label for="product-theme-notes">Theme Notes</label>
              <textarea id="product-theme-notes" placeholder="Themes rotate monthly..."></textarea>
            </div>
          </div>

          <div class="form-group">
            <label for="product-bundle-items">Bundle Items (comma-separated product IDs)</label>
            <input type="text" id="product-bundle-items" placeholder="product-id-1, product-id-2" />
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" onclick="closeProductModal()" class="btn btn-outline btn-sm">Cancel</button>
        <button type="button" onclick="saveProduct()" class="btn btn-primary btn-sm">Save Product</button>
      </div>
    </div>
  </div>

  <script src="admin.js"></script>
</body>
</html>
